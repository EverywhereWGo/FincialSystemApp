# 理财管理系统API接口文档

## 目录

- [1. 基本信息](#1-基本信息)
- [2. 用户认证](#2-用户认证)
- [3. 交易记录管理](#3-交易记录管理)
- [4. 财务分类管理](#4-财务分类管理)
- [5. 预算管理](#5-预算管理)
- [6. 通知管理](#6-通知管理)
- [7. 统计分析](#7-统计分析)
- [8. 错误码说明](#8-错误码说明)
- [9. 接口调用示例](#9-接口调用示例)

## 1. 基本信息

- **基础URL**: `/prod-api`（生产环境）或 `/dev-api`（开发环境）
- **认证方式**: 请求头添加token，格式：Authorization: Bearer eyJhbGciO...
- **响应格式**: JSON
- **默认分页参数**: pageNum（页码）, pageSize（每页大小）

### 通用响应结构

```json
{
  "code": 200,         // 状态码，200表示成功
  "msg": "操作成功",    // 响应消息
  "data": {}           // 响应数据，具体结构取决于接口
}
```

分页响应结构：

```json
{
  "code": 200,
  "msg": "操作成功",
  "total": 100,        // 总记录数
  "rows": []           // 当前页数据
}
```

## 2. 用户认证

### 2.1 财务系统用户登录

- **URL**: `/finance/auth/login`
- **方法**: POST
- **请求参数**:

```json
{
  "username": "admin",
  "password": "admin123",
  "deviceInfo": "设备信息"
}
```

- **响应示例**:

```json
{
  "code": 200,
  "msg": "登录成功",
  "data": {
    "token": "eyJhbGciO...",
    "expiryTime": 1704028800000,
    "user": {
      "id": 1,
      "username": "admin",
      "nickname": "管理员",
      "phone": "13800138000",
      "email": "admin@example.com",
      "role": "admin",
      "createTime": "2023-01-01 00:00:00",
      "lastLoginTime": "2023-07-01 12:30:45"
    }
  }
}
```

### 2.2 财务系统用户注册

- **URL**: `/finance/auth/register`
- **方法**: POST
- **请求参数**:

```json
{
  "username": "newuser",
  "password": "password123",
  "nickname": "新用户",
  "phone": "13900139000",
  "email": "newuser@example.com"
}
```

- **响应示例**:

```json
{
  "code": 200,
  "msg": "注册成功"
}
```

### 2.3 获取财务系统用户信息

- **URL**: `/finance/user/{id}`
- **方法**: GET
- **路径参数**: id - 用户ID
- **请求头**: 需要包含有效的Token 格式：Authorization: Bearer eyJhbGciO...
- **响应示例**:

```json
{
  "code": 200,
  "msg": "操作成功",
  "data": {
    "id": 1,
    "username": "admin",
    "nickname": "管理员",
    "phone": "13800138000",
    "email": "admin@example.com",
    "role": "admin",
    "wechat": "",
    "qq": "",
    "createTime": "2023-01-01 00:00:00",
    "lastLoginTime": "2023-07-01 12:30:45"
  }
}
```

### 2.4 系统退出登录

- **URL**: `/logout`
- **方法**: POST
- **请求头**: 需要包含有效的Token   格式：Authorization: Bearer eyJhbGciO...
- **响应示例**:

```json
{
  "code": 200,
  "msg": "退出成功"
}
```

### 2.5 财务系统退出登录

- **URL**: `/finance/auth/logout`
- **方法**: POST
- **请求参数**:

```json
{
  "token": "eyJhbGciO...",
  "userId": 1
}
```

- **请求头**: 需要包含有效的Token
- **响应示例**:

```json
{
  "code": 200,
  "msg": "退出成功"
}
```

### 2.6 修改用户密码

- **URL**: `/finance/user/resetPwd`
- **方法**: PUT
- **请求参数**:

```json
{
  "userId": 1,
  "oldPassword": "oldPassword123",
  "newPassword": "newPassword123"
}
```

- **请求头**: 需要包含有效的Token
- **响应示例**:

```json
{
  "code": 200,
  "msg": "密码修改成功"
}
```

### 2.7 获取用户登录历史

- **URL**: `/finance/loginHistory/user`
- **方法**: GET
- **请求参数**:

| 参数名 | 类型 | 必填 | 描述 |
|-------|------|------|------|
| userId | Long | 是 | 用户ID |
| pageNum | Integer | 否 | 页码，默认1 |
| pageSize | Integer | 否 | 每页大小，默认10 |

- **请求头**: 需要包含有效的Token
- **响应示例**:

```json
{
  "code": 200,
  "msg": "操作成功",
  "total": 10,
  "rows": [
    {
      "id": 1,
      "userId": 1,
      "loginTime": "2023-07-01 12:30:45",
      "ipAddress": "192.168.1.1",
      "deviceInfo": "Chrome on Windows",
      "success": true,
      "remark": "登录成功"
    },
    {
      "id": 2,
      "userId": 1,
      "loginTime": "2023-07-01 17:45:20",
      "ipAddress": "192.168.1.1",
      "deviceInfo": "Chrome on Windows",
      "success": true,
      "remark": "用户主动登出"
    }
  ]
}
```

### 2.8 获取最近一次登录记录

- **URL**: `/finance/loginHistory/latest`
- **方法**: GET
- **请求参数**:

| 参数名 | 类型 | 必填 | 描述 |
|-------|------|------|------|
| userId | Long | 是 | 用户ID |

- **请求头**: 需要包含有效的Token
- **响应示例**:

```json
{
  "code": 200,
  "msg": "操作成功",
  "data": {
    "loginTime": "2023-07-01 12:30:45",
    "ipAddress": "192.168.1.1",
    "deviceInfo": "Chrome on Windows"
  }
}
```

## 3. 交易记录管理

### 3.1 获取交易记录列表

- **URL**: `/finance/transaction/list`
- **方法**: GET
- **请求参数**:

| 参数名 | 类型 | 必填 | 描述 |
|-------|------|------|------|
| type | Integer | 否 | 交易类型（1:支出, 2:收入） |
| categoryId | Long | 否 | 分类ID |
| transactionTime | Long | 否 | 交易时间戳 |
| note | String | 否 | 备注信息（模糊查询） |
| pageNum | Integer | 否 | 页码，默认1 |
| pageSize | Integer | 否 | 每页大小，默认10 |

- **响应示例**:

```json
{
  "code": 200,
  "msg": "操作成功",
  "total": 50,
  "rows": [
    {
      "id": 1,
      "userId": 1,
      "categoryId": 1,
      "categoryName": "餐饮",
      "amount": 100.00,
      "type": 1,
      "transactionTime": 1672502400000,
      "note": "午餐费用",
      "imagePath": "/profile/upload/2023/01/01/receipt.jpg",
      "createTime": "2023-01-01 13:30:00"
    }
  ]
}
```

### 3.2 获取交易记录详情

- **URL**: `/finance/transaction/{id}`
- **方法**: GET
- **路径参数**: id - 交易记录ID
- **响应示例**:

```json
{
  "code": 200,
  "msg": "操作成功",
  "data": {
    "id": 1,
    "userId": 1,
    "categoryId": 1,
    "categoryName": "餐饮",
    "amount": 100.00,
    "type": 1,
    "transactionTime": 1672502400000,
    "note": "午餐费用",
    "imagePath": "/profile/upload/2023/01/01/receipt.jpg",
    "location": "广州市天河区",
    "createTime": "2023-01-01 13:30:00",
    "updateTime": null,
    "createBy": "admin",
    "updateBy": null,
    "remark": null
  }
}
```

### 3.3 新增交易记录

- **URL**: `/finance/transaction`
- **方法**: POST
- **请求参数**:

```json
{
  "categoryId": 1,
  "amount": 100.00,
  "type": 1,
  "transactionTime": 1672502400000,
  "note": "午餐费用",
  "imagePath": "/profile/upload/2023/01/01/receipt.jpg",
  "location": "广州市天河区",
  "remark": "商务餐费"
}
```

- **响应示例**:

```json
{
  "code": 200,
  "msg": "操作成功"
}
```

### 3.4 修改交易记录

- **URL**: `/finance/transaction`
- **方法**: PUT
- **请求参数**:

```json
{
  "id": 1,
  "categoryId": 1,
  "amount": 120.00,
  "type": 1,
  "transactionTime": 1672502400000,
  "note": "午餐费用（已修改）",
  "imagePath": "/profile/upload/2023/01/01/receipt.jpg",
  "location": "广州市天河区",
  "remark": "商务餐费"
}
```

- **响应示例**:

```json
{
  "code": 200,
  "msg": "操作成功"
}
```

### 3.5 删除交易记录

- **URL**: `/finance/transaction/{ids}`
- **方法**: DELETE
- **路径参数**: ids - 交易记录ID，多个ID用逗号分隔
- **响应示例**:

```json
{
  "code": 200,
  "msg": "操作成功"
}
```

### 3.6 按月获取交易记录

- **URL**: `/finance/transaction/month`
- **方法**: GET
- **请求参数**:

| 参数名 | 类型 | 必填 | 描述 |
|-------|------|------|------|
| userId | Long | 是 | 用户ID |
| startTime | Long | 是 | 开始时间戳 |
| endTime | Long | 是 | 结束时间戳 |
| type | Integer | 否 | 交易类型（1:支出, 2:收入） |

- **响应示例**:

```json
{
  "code": 200,
  "msg": "操作成功",
  "data": [
    {
      "id": 1,
      "categoryName": "餐饮",
      "amount": 100.00,
      "type": 1,
      "transactionTime": 1672502400000,
      "note": "午餐费用"
    }
  ]
}
```

### 3.7 获取年度交易统计

- **URL**: `/finance/transaction/stat/year`
- **方法**: GET
- **请求参数**:

| 参数名 | 类型 | 必填 | 描述 |
|-------|------|------|------|
| userId | Long | 是 | 用户ID |
| year | Integer | 是 | 年份，例如2023 |

- **响应示例**:

```json
{
  "code": 200,
  "msg": "操作成功",
  "data": [
    {
      "month": 1,
      "expense": 3000.00,
      "income": 8000.00
    },
    {
      "month": 2,
      "expense": 2800.00,
      "income": 8000.00
    }
  ]
}
```

### 3.8 获取月度交易统计

- **URL**: `/finance/transaction/stat/month`
- **方法**: GET
- **请求参数**:

| 参数名 | 类型 | 必填 | 描述 |
|-------|------|------|------|
| userId | Long | 是 | 用户ID |
| startTime | Long | 是 | 开始时间戳 |
| endTime | Long | 是 | 结束时间戳 |
| type | Integer | 是 | 交易类型（1:支出, 2:收入） |

- **响应示例**:

```json
{
  "code": 200,
  "msg": "操作成功",
  "data": [
    {
      "categoryId": 1,
      "categoryName": "餐饮",
      "amount": 1200.00,
      "percentage": 40
    },
    {
      "categoryId": 2,
      "categoryName": "购物",
      "amount": 800.00,
      "percentage": 26.67
    }
  ]
}
```

### 3.9 获取月度收支总额

- **URL**: `/finance/transaction/stat/amount`
- **方法**: GET
- **请求参数**:

| 参数名 | 类型 | 必填 | 描述 |
|-------|------|------|------|
| userId | Long | 是 | 用户ID |
| startTime | Long | 是 | 开始时间戳 |
| endTime | Long | 是 | 结束时间戳 |

- **响应示例**:

```json
{
  "code": 200,
  "msg": "操作成功",
  "data": {
    "expense": 3000.00,
    "income": 8000.00,
    "balance": 5000.00
  }
}
```

## 4. 财务分类管理

### 4.1 获取分类列表

- **URL**: `/finance/category/list`
- **方法**: GET
- **请求参数**:

| 参数名 | 类型 | 必填 | 描述 |
|-------|------|------|------|
| name | String | 否 | 分类名称（模糊查询） |
| type | Integer | 否 | 分类类型（1:支出, 2:收入） |
| pageNum | Integer | 否 | 页码，默认1 |
| pageSize | Integer | 否 | 每页大小，默认10 |

- **响应示例**:

```json
{
  "code": 200,
  "msg": "操作成功",
  "total": 10,
  "rows": [
    {
      "id": 1,
      "userId": 1,
      "name": "餐饮",
      "type": 1,
      "icon": "fa fa-cutlery",
      "sort": 1,
      "createTime": "2023-01-01 10:00:00"
    }
  ]
}
```

### 4.2 获取分类详情

- **URL**: `/finance/category/{id}`
- **方法**: GET
- **路径参数**: id - 分类ID
- **响应示例**:

```json
{
  "code": 200,
  "msg": "操作成功",
  "data": {
    "id": 1,
    "userId": 1,
    "name": "餐饮",
    "type": 1,
    "icon": "fa fa-cutlery",
    "sort": 1,
    "createTime": "2023-01-01 10:00:00",
    "updateTime": null,
    "createBy": "admin",
    "updateBy": null,
    "remark": "餐饮相关支出"
  }
}
```

### 4.3 新增分类

- **URL**: `/finance/category`
- **方法**: POST
- **请求参数**:

```json
{
  "name": "餐饮",
  "type": 1,
  "icon": "fa fa-cutlery",
  "sort": 1,
  "remark": "餐饮相关支出"
}
```

- **响应示例**:

```json
{
  "code": 200,
  "msg": "操作成功"
}
```

### 4.4 修改分类

- **URL**: `/finance/category`
- **方法**: PUT
- **请求参数**:

```json
{
  "id": 1,
  "name": "餐饮",
  "type": 1,
  "icon": "fa fa-cutlery",
  "sort": 1,
  "remark": "餐饮相关支出（已修改）"
}
```

- **响应示例**:

```json
{
  "code": 200,
  "msg": "操作成功"
}
```

### 4.5 删除分类

- **URL**: `/finance/category/{ids}`
- **方法**: DELETE
- **路径参数**: ids - 分类ID，多个ID用逗号分隔
- **响应示例**:

```json
{
  "code": 200,
  "msg": "操作成功"
}
```

### 4.6 获取指定类型的分类

- **URL**: `/finance/category/type/{type}`
- **方法**: GET
- **路径参数**: type - 分类类型（1:支出, 2:收入）
- **响应示例**:

```json
{
  "code": 200,
  "msg": "操作成功",
  "data": [
    {
      "id": 1,
      "name": "餐饮",
      "type": 1,
      "icon": "fa fa-cutlery"
    },
    {
      "id": 2,
      "name": "交通",
      "type": 1,
      "icon": "fa fa-car"
    }
  ]
}
```

## 5. 预算管理

### 5.1 获取预算列表

- **URL**: `/finance/budget/list`
- **方法**: GET
- **请求参数**:

| 参数名 | 类型 | 必填 | 描述 |
|-------|------|------|------|
| categoryId | Long | 否 | 分类ID |
| month | Interger | 否 | 月份，默认当前手机时间的月份数字，例如：4 |
| pageNum | Integer | 否 | 页码，默认1 |
| pageSize | Integer | 否 | 每页大小，默认10 |

- **响应示例**:

```json
{
  "code": 200,
  "msg": "操作成功",
  "total": 5,
  "rows": [
    {
      "id": 1,
      "userId": 1,
      "categoryId": 1,
      "categoryName": "餐饮",
      "amount": 2000.00,
      "spentAmount": 1200.00,
      "remainAmount": 800.00,
      "month": "4",
      "createTime": "2023-01-01 10:00:00"
    }
  ]
}
```

### 5.2 获取预算详情

- **URL**: `/finance/budget/{id}`
- **方法**: GET
- **路径参数**: id - 预算ID
- **响应示例**:

```json
{
  "code": 200,
  "msg": "操作成功",
  "data": {
    "id": 1,
    "userId": 1,
    "categoryId": 1,
    "categoryName": "餐饮",
    "amount": 2000.00,
    "spentAmount": 1200.00,
    "remainAmount": 800.00,
    "month": "2023-01",
    "warningPercentage": 80,
    "createTime": "2023-01-01 10:00:00",
    "updateTime": null,
    "createBy": "admin",
    "updateBy": null,
    "remark": "餐饮预算"
  }
}
```

### 5.3 新增预算

- **URL**: `/finance/budget`
- **方法**: POST
- **请求参数**:

```json
{
  "categoryId": 1,
  "amount": 2000.00,
  "month": "2023-01",
  "warningPercentage": 80,
  "remark": "餐饮预算"
}
```

- **响应示例**:

```json
{
  "code": 200,
  "msg": "操作成功"
}
```

### 5.4 修改预算

- **URL**: `/finance/budget`
- **方法**: PUT
- **请求参数**:

```json
{
  "id": 1,
  "categoryId": 1,
  "amount": 2500.00,
  "month": "2023-01",
  "warningPercentage": 80,
  "remark": "餐饮预算（已修改）"
}
```

- **响应示例**:

```json
{
  "code": 200,
  "msg": "操作成功"
}
```

### 5.5 删除预算

- **URL**: `/finance/budget/{ids}`
- **方法**: DELETE
- **路径参数**: ids - 预算ID，多个ID用逗号分隔
- **响应示例**:

```json
{
  "code": 200,
  "msg": "操作成功"
}
```

### 5.6 获取某月的预算

- **URL**: `/finance/budget/month`
- **方法**: GET
- **请求参数**:

| 参数名 | 类型 | 必填 | 描述 |
|-------|------|------|------|
| userId | Long | 是 | 用户ID |
| month | String | 是 | 月份，格式为"yyyy-MM" |

- **响应示例**:

```json
{
  "code": 200,
  "msg": "操作成功",
  "data": [
    {
      "id": 1,
      "categoryId": 1,
      "categoryName": "餐饮",
      "amount": 2000.00,
      "spentAmount": 1200.00,
      "remainAmount": 800.00,
      "percentage": 60
    }
  ]
}
```

### 5.7 获取警告预算

- **URL**: `/finance/budget/warning`
- **方法**: GET
- **请求参数**:

| 参数名 | 类型 | 必填 | 描述 |
|-------|------|------|------|
| userId | Long | 是 | 用户ID |
| month | String | 是 | 月份，格式为"yyyy-MM" |

- **响应示例**:

```json
{
  "code": 200,
  "msg": "操作成功",
  "data": [
    {
      "id": 1,
      "categoryId": 1,
      "categoryName": "餐饮",
      "amount": 2000.00,
      "spentAmount": 1800.00,
      "remainAmount": 200.00,
      "percentage": 90,
      "warningPercentage": 80
    }
  ]
}
```

## 6. 通知管理

### 6.1 获取通知列表

- **URL**: `/finance/notification/list`
- **方法**: GET
- **请求参数**:

| 参数名 | 类型 | 必填 | 描述 |
|-------|------|------|------|
| title | String | 否 | 通知标题（模糊查询） |
| type | Integer | 否 | 通知类型（1:系统通知, 2:预算通知） |
| isRead | Integer | 否 | 是否已读（0:未读, 1:已读） |
| pageNum | Integer | 否 | 页码，默认1 |
| pageSize | Integer | 否 | 每页大小，默认10 |

- **响应示例**:

```json
{
  "code": 200,
  "msg": "操作成功",
  "total": 20,
  "rows": [
    {
      "id": 1,
      "userId": 1,
      "title": "预算警告",
      "content": "您的餐饮预算已经超过80%，请注意控制支出。",
      "type": 2,
      "isRead": 0,
      "createTime": "2023-01-15 10:00:00"
    }
  ]
}
```

### 6.2 获取通知详情

- **URL**: `/finance/notification/{id}`
- **方法**: GET
- **路径参数**: id - 通知ID
- **响应示例**:

```json
{
  "code": 200,
  "msg": "操作成功",
  "data": {
    "id": 1,
    "userId": 1,
    "title": "预算警告",
    "content": "您的餐饮预算已经超过80%，请注意控制支出。",
    "type": 2,
    "isRead": 0,
    "readTime": null,
    "relatedId": 1,
    "createTime": "2023-01-15 10:00:00",
    "updateTime": null,
    "createBy": "system",
    "updateBy": null,
    "remark": null
  }
}
```

### 6.3 新增通知

- **URL**: `/finance/notification`
- **方法**: POST
- **请求参数**:

```json
{
  "userId": 1,
  "title": "预算警告",
  "content": "您的餐饮预算已经超过80%，请注意控制支出。",
  "type": 2,
  "relatedId": 1,
  "remark": "系统自动生成的预算警告"
}
```

- **响应示例**:

```json
{
  "code": 200,
  "msg": "操作成功"
}
```

### 6.4 修改通知

- **URL**: `/finance/notification`
- **方法**: PUT
- **请求参数**:

```json
{
  "id": 1,
  "title": "预算警告（已修改）",
  "content": "您的餐饮预算已经超过80%，请注意控制支出。",
  "type": 2,
  "isRead": 0,
  "relatedId": 1,
  "remark": "系统自动生成的预算警告（已修改）"
}
```

- **响应示例**:

```json
{
  "code": 200,
  "msg": "操作成功"
}
```

### 6.5 删除通知

- **URL**: `/finance/notification/{ids}`
- **方法**: DELETE
- **路径参数**: ids - 通知ID，多个ID用逗号分隔
- **响应示例**:

```json
{
  "code": 200,
  "msg": "操作成功"
}
```

### 6.6 获取未读通知

- **URL**: `/finance/notification/unread`
- **方法**: GET
- **请求参数**:

| 参数名 | 类型 | 必填 | 描述 |
|-------|------|------|------|
| userId | Long | 是 | 用户ID |

- **响应示例**:

```json
{
  "code": 200,
  "msg": "操作成功",
  "data": [
    {
      "id": 1,
      "userId": 1,
      "title": "预算警告",
      "content": "您的餐饮预算已经超过80%，请注意控制支出。",
      "type": 2,
      "createTime": "2023-01-15 10:00:00"
    }
  ]
}
```

### 6.7 标记通知为已读

- **URL**: `/finance/notification/read/{id}`
- **方法**: PUT
- **路径参数**: id - 通知ID
- **响应示例**:

```json
{
  "code": 200,
  "msg": "操作成功"
}
```

### 6.8 批量标记通知为已读

- **URL**: `/finance/notification/batchRead`
- **方法**: PUT
- **请求参数**:

```json
{
  "userId": 1,
  "ids": [1, 2, 3]
}
```

- **响应示例**:

```json
{
  "code": 200,
  "msg": "操作成功"
}
```

## 7. 统计分析

### 7.1 获取月度分类支出统计

- **URL**: `/finance/statistic/category`
- **方法**: GET
- **请求参数**:

| 参数名 | 类型 | 必填 | 描述 |
|-------|------|------|------|
| userId | Long | 是 | 用户ID |
| startTime | Long | 是 | 开始时间戳 |
| endTime | Long | 是 | 结束时间戳 |
| type | Integer | 是 | 交易类型（1:支出, 2:收入） |

- **响应示例**:

```json
{
  "code": 200,
  "msg": "操作成功",
  "data": [
    {
      "categoryId": 1,
      "categoryName": "餐饮",
      "amount": 1200.00,
      "percentage": 40
    },
    {
      "categoryId": 2,
      "categoryName": "交通",
      "amount": 600.00,
      "percentage": 20
    }
  ]
}
```

### 7.2 获取年度收支统计

- **URL**: `/finance/statistic/year`
- **方法**: GET
- **请求参数**:

| 参数名 | 类型 | 必填 | 描述 |
|-------|------|------|------|
| userId | Long | 是 | 用户ID |
| year | Integer | 是 | 年份，例如2023 |

- **响应示例**:

```json
{
  "code": 200,
  "msg": "操作成功",
  "data": [
    {
      "month": 1,
      "expense": 3000.00,
      "income": 8000.00,
      "balance": 5000.00
    },
    {
      "month": 2,
      "expense": 2800.00,
      "income": 8000.00,
      "balance": 5200.00
    }
  ]
}
```

### 7.3 获取收支趋势

- **URL**: `/finance/statistic/trend`
- **方法**: GET
- **请求参数**:

| 参数名 | 类型 | 必填 | 描述 |
|-------|------|------|------|
| userId | Long | 是 | 用户ID |
| months | Integer | 是 | 返回月数，例如6表示最近6个月 |

- **响应示例**:

```json
{
  "code": 200,
  "msg": "操作成功",
  "data": [
    {
      "month": "2023-01",
      "expense": 3000.00,
      "income": 8000.00
    },
    {
      "month": "2023-02",
      "expense": 2800.00,
      "income": 8000.00
    }
  ]
}
```

### 7.4 获取预算执行情况

- **URL**: `/finance/statistic/budget`
- **方法**: GET
- **请求参数**:

| 参数名 | 类型 | 必填 | 描述 |
|-------|------|------|------|
| userId | Long | 是 | 用户ID |
| month | String | 是 | 月份，格式为"yyyy-MM" |

- **响应示例**:

```json
{
  "code": 200,
  "msg": "操作成功",
  "data": {
    "totalBudget": 5000.00,
    "totalSpent": 3000.00,
    "totalRemain": 2000.00,
    "percentage": 60,
    "categories": [
      {
        "categoryId": 1,
        "categoryName": "餐饮",
        "amount": 2000.00,
        "spentAmount": 1200.00,
        "remainAmount": 800.00,
        "percentage": 60
      }
    ]
  }
}
```

### 7.5 获取顺序记录

- **URL**: `/finance/statistic/topTransactions`
- **方法**: GET
- **请求参数**:

| 参数名 | 类型 | 必填 | 描述 |
|-------|------|------|------|
| userId | Long | 是 | 用户ID |
| type | Integer | 是 | 交易类型（1:支出, 2:收入） |
| startTime | Long | 是 | 开始时间戳 |
| endTime | Long | 是 | 结束时间戳 |
| limit | Integer | 否 | 返回数量限制，默认5 |

- **响应示例**:

```json
{
  "code": 200,
  "msg": "操作成功",
  "data": [
    {
      "id": 1,
      "categoryName": "餐饮",
      "amount": 300.00,
      "note": "外出就餐",
      "transactionTime": 1673596800000
    },
    {
      "id": 2,
      "categoryName": "购物",
      "amount": 200.00,
      "note": "购买日用品",
      "transactionTime": 1673510400000
    }
  ]
}
```

## 8. 错误码说明

| 错误码 | 描述 |
|-------|------|
| 200 | 成功 |
| 400 | 请求参数错误 |
| 401 | 未授权（未登录或Token失效） |
| 403 | 权限不足 |
| 404 | 资源不存在 |
| 500 | 服务器内部错误 |

## 9. 接口调用示例

### 9.1 登录接口

```bash
curl -X POST "http://example.com/prod-api/login" \
  -H "Content-Type: application/json" \
  -d '{"username":"admin","password":"admin123","code":"1234","uuid":"abcd1234"}'
```

### 9.2 获取交易记录列表

```bash
curl -X GET "http://example.com/prod-api/finance/transaction/list?pageNum=1&pageSize=10" \
  -H "Authorization: Bearer eyJhbGciO..."
```

### 9.3 集成建议

1. 所有接口调用需要验证Token，除了登录和注册接口
2. 分页参数pageNum和pageSize可以传递，如果不传递则使用默认值
3. 时间戳采用毫秒级时间戳格式，前端可以使用new Date().getTime()获取
4. 所有响应都使用统一的格式，通过code判断是否操作成功
5. 当需要删除多个记录时，可以使用逗号分隔ID，例如"/finance/transaction/1,2,3"